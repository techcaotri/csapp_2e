#####################################################################
# CS:APP Buffer Lab
#
# Autograding scripts
#
# Copyright (c) 2003, R. Bryant and D. O'Hallaron, All rights reserved.
# May not be used, modified, or copied without permission.
#
######################################################################


********
1. Files
********

Makefile:
	Starts and stops the buflab-reportd.pl autograding daemon

config.pm:
	Configuration info shared by all the Perl scripts in this directory.

buflab-reportd.pl:
	The autograding daemon. Continuously scans the 	spool file 
	(validate.pl) and then updates the web page (genhtml.pl).

validate.pl:
	Extracts submissions from the mail spool file, validates
	them, and then creates a file with the result for each team
	and each level, one line per team:
	cookie:team:res0:res1:res2:res3:res4
	where score is 0 for no entry, 1 for invalid, 2 for valid.
	Also writes diagnostic files for all invalid entries. These
	are linked to the web page so that students can click on the
	icon to get the diagnostic message. 

EXCLUDE:
	Optional list of team names for validate.pl to ignore.

genhtml.pl:
	Reads the result file produced by validate.pl and updates the
	web page.

gengrades.pl:
	Reads the result file produced by validate.pl and produces
	a grade file.

www/bufbombstatus.html:
	The web page generated by genhtml.pl

www/icons:
	Contains the icons that appear on the web page.

www/report:
	Contains diagnostic messages for invalid submissions.

*********************************
2. Running the Autograding Daemon
*********************************

Step 1: Update ./config.pm

The config.pm file defines constants that are shared by all of the
Perl scripts in this directory.

Step 2: Run the autograding daemon 

Typing "make start" will run the autograding daemon
(buflab-reportd.pl).

Typing "make stop" will kill it.

*************************
3. Grading the Buffer Lab
*************************

Once the due date is past, terminate the buflab-reportd.pl daemon by
typing "make stop".

Then type "make grades", which will produce a grade file in
./grades.txt.








